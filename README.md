# java-chess

체스 미션 저장소

## 페어 규칙
- 어려워도 TDD로 구현한다.
- 역할 교대는 10분 간격으로 한다.
- 4사이클(40분)하고 10분 휴식을 취한다.
- 10시 이후에 개인정비 시간을 가진다.
- 의견 조율 시, 시간을 멈추고 5분정도 토론하고 결론이 안나면 가위바위보로 정한다. 패자는 묵묵히 따른다.
- 커밋 컨벤션은 아래와 같이 작성한다.
    - feat: commit message(한글)
- 매일 끝나기 10분 전에 당일 회고를 작성한다.
    - 칭찬과 격려를 마구마구 해준다.
    - 기분이 상하면 그자리에서 바로 푼다.

## 체스 규칙

### 체스판
- 체스판은 8x8 이다.
- 세로는 아래부터 위로 1부터 8까지이다.
- 가로는 왼쪽부터 오른쪽으로 a부터 h까지이다.
- 체스 말 배치도(검은색-대문자과 흰색-소문자)
~~~
RNBQKBNR  8 (rank 8)
PPPPPPPP  7
........  6
........  5
........  4
........  3
pppppppp  2
rnbqkbnr  1 (rank 1)

abcdefgh
~~~
### 체스 말
- 폰
  - 앞으로 1칸 갈 수 있다.(처음 움직일 때는 2칸까지 갈 수 있다.)
  - 상대 말을 잡을 때 앞쪽 대각선 방향으로만 잡을 수 있다.
  - 상대쪽 첫 번째 열 (1 또는 8)에 도착하면 킹을 제외한 다른 체스 말로 변경할 수 있다.
  - 각 팀의 폰은 총 8개이다.
- 나이트
  - 상하좌우로 두 칸 간 뒤에 양 옆으로 움직일 수 있다.
  - 각 팀의 나이트는 총 2개이다.
- 록
  - 상하좌우로 쭉 갈 수 있다.
  - 각 팀의 록은 총 2개이다.
- 비숍
  - 네 방향의 대각선으로 쭉 갈 수 있다.
  - 각 팀의 비숍은 총 2개이다.
- 퀸
  - 상하좌우, 네 방향의 대각선으로 쭉 갈 수 있다.
  - 각 팀의 퀸은 총 1개이다.
- 킹
  - 죽으면 게임이 끝난다.
  - 주변 8칸으로 움직일 수 있다.
  - 각 팀의 킹은 총 1개이다.

## 1단계 요구사항
- [x] 체스 게임을 시작할 지 묻는다.
  - `start`를 입력 시 체스판을 초기화하여 출력한다.
  - `end`를 입력 시 게임을 종료한다.
- [x] 체스판을 초기화한다.
  - 가로 세로 총 8칸이다.
- [x] 체스 말을 체스판 위에 놓는다.
  - 화면 기준으로 위쪽이 검은색(대문자), 아래쪽(소문자)이 흰색이다.


## 2단계 요구사항
- ex ) move b1 b3
- [x] move 커맨드를 추가한다.
- [x] b1에 있는 말이 어떤 말인지 알아냄 - 체스판
- [x] 해당 말이 갈 수 있는 방향으로 Map<Direction, List<Poistion>>에 넣는다. - 체스말
  - [x] 열과 행을 한칸 씩 움직일 수 있다.
  - [x] Direction에 따라서 움직인 후의 Position을 얻을 수 있다.
  - [x] Queen, Bishop, Rook
  - [x] King, Knight
  - [x] Pawn
    - [x] 처음 움직인다면, 2칸 전진 가능
    - [x] 두번째 이후부터는 1칸만 전진 가능
- [x] Map<Direction, List<Poistion>> 순회하면서 장애물 판단한다. - 체스판
  - [x] 장애물이 내 편일 경우 : 장애물 닿기 전까지만 남기고 이후 포지션들은 제거
    - Piece 끼리 같은 편인지 확인하는 메서드 작성 
  - [x] 장애물이 적 편일 경우 : 장애물 닿는 곳 까지 남기고 이후 포지션들은 제거
  - 폰일 경우 
    - [x] 앞 이동의 경우에는 장애물이 있을 경우 해당 포지션 제거
    - [x] 대각선에 적 장애물이 있을 경우에 이동가능 리스트에 해당 포지션을 추가
- [x] 리스트가 나오면 b3가 해당 이동 가능 리스트에 포함되는지 확인 - 체스판
  - [x] 포함 된다면 : 거기로 이동 ( 이동 시 적 편이 있으면 제거 )
  - [x] 포함 안된다면 : 예외 발생
- [x] move할 때마다 결과를 출력을 해준다.
- [x] move 명령어는 차례를 번갈아가며 수행한다. 


## 3단계 요구사항
- [x] status를 입력하면 현재 남아있는 말의 점수를 계산하여 출력한다.
  - [x] 한번에 한쪽의 점수만 계산한다.
  - [x] queen은 9점, rook은 5점, bishop은 3점, knight는 2.5점, pawn은 1점
  - [x] 같은 세로줄에 같은 색의 폰이 있으면 각 0.5점
```
WHITE : 10.0
BLACK : 10.0
```

- [x] 킹이 잡히면 게임이 끝난다.
  - [x] 끝났을 때는 승자를 출력한다.
  - [x] 이후에 start , end 만 입력받는다.

```
O팀이 이겼습니다.
다시 하시려면 start, 종료 하시려면 end를 입력하세요.
```


## 4, 5단계 요구사항
- [x] Dao 구성
- [x] Service 구성
- [x] UI와 연동
  - [x] 시작 버튼 클릭
  - [x] 종료 버튼 클릭
  - [x] 무브 구현
  - [x] 종료 처리 
  - [x] 매번 상태를 표현해준다.
    - [x] 승리시, 상태 표시를 꺼주고 승리자를 표시해준다.
  - [x] 예외가 발생 시 alert로 표시한다.

## 우아한테크코스 코드리뷰

- [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)
